\documentclass{article}

\title{Rapport architecture microprocesseur}
\author{HORNERO Baptiste \\ HERZLICH Raphaël \\ HELARY Axel}
\date{}

\usepackage[margin=.5in]{geometry}

\begin{document}

\maketitle

\section*{Architecture du processeur}

L'architecture du processeur est une architecture proche de l'architecture Risc-V,
les instructions sont codées sur 32 bits. On a 16 registres accessibles,
numérotés de 0 à 15, chacun de taille 32. On ajoute un register de 32
bits correspondant à la position du pointeur sur la ROM, qu'on appelle P.
On se munit de trois flags : ZF (dernière opération a renvoyé 0 ou non), SF
(positivité de la dernière opération), OF (overflow de la dernière
opération arithmétique) tous de taille 1.


\section*{Instructions}
 
Le set d'instructions est le suivant:

\begin{center}

\begin{tabular}{| c || c || c | c |}
    Instruction & Encodage & Description & Arguments\\ \hline
    NOP & 0000 0000 & No opération &\\ \hline
    ADD & 0001 0001 & Addition & rs1 rs2\\ \hline
    SUB & 0001 0010 & Soustraction & rs1 rs2 \\ \hline
    MUL & 0001 0011 & Multiplication & rs1 rs2 \\ \hline
    AND & 0010 0001 & Et logique & rs1 rs2\\ \hline
    OR  & 0010 0010 & Ou logique & rs1 rs2\\ \hline
    XOR & 0010 0011 & Xor logique & rs1 rs2\\ \hline
    NOT & 0011 0001 & Non & rs1\\ \hline
    SLL & 0011 0010 & Décalage gauche logique & rs1 \\ \hline
    SRL & 0011 0011 & Décalage droite logique & rs1\\ \hline
\end{tabular}

et :

\begin{tabular}{| c || c | c|| c |  c  |}
    Instruction & Encodage & Description & Arguments & Description
formelle \\ \hline
    MOV   & 0110 0001 & Met un registre à la valeur d'un autre registre &
rs1 rs2  & rs1 $\gets$ rs2\\ \hline
    MOVI  & 0111 0001 & Met une valeur immédiate dans un registre & rs1
immediate & rs1 $\gets$ immediate\\\hline
    CMP   & 1000 0001 & Compare deux valeurs & rs1 rs2& Mise à jour des
flags\\ \hline
    JMP   & 0100 0001 & Jump à une valeur & immediate & P $\gets$ immediate\\ \hline
    JNE   & 0100 0010 & Jump si non égal (ZF = 0) & immediate & Si ZF =0
alors P$\gets$ immediate\\ \hline
    JE    & 0100 0011 & Jump si égal (ZF = 1) & immediate&  Si ZF = 1
    alors P $\gets$ immediate \\ \hline
    JGE   & 0100 0100 & Jump si plus grand ou égal & immediate& Si OF=SF
alors P $\gets$ immediate\\ \hline
    LOAD  & 0101 0001 & Lit dans la ram & rs1 rs2& rs1 $\gets$ R[rs2]\\ \hline
    STORE & 0101 0010 & Stocke dans la ram & rs1 rs2& R[rs2] $\gets$ rs1\\ \hline
    LOADFIX  & 0101 0011 & Lit dans la ram & rs1 immediate& rs1 $\gets$ R[immediate]\\ \hline
    STOREFIX & 0101 0100 & Stocke dans la ram & rs1 immediate& R[immediate] $\gets$ rs1\\ \hline
\end{tabular}


\end{center}

\section*{Si le temps nous le permet}

\subsection*{Interface graphique}

Implémentation d'une petite interface graphique
et des instructions suivantes pour gérer l'interface

\begin{center}

\begin{tabular}{| c || c || c | c |}
    Instruction & Encodage & Description & Arguments\\ \hline
    PIX   & 0010 0001 & Change la valeur du pixel & rs1 rs2\\ \hline
    CLEAR & 0010 0010 & Met toute l'interface graphique à 0 & \\ \hline
    
\end{tabular}

\end{center}

\end{document}
